#include <msp430.h> 

/**
 * main.c
 */

void main(void)
{
    unsigned long i;

    WDTCTL = WDTPW | WDTHOLD;   // Stop watchdog timer to prevent time out reset
    PM5CTL0 &= ~LOCKLPM5;       // Изключи високоимпедансното състояние на GPIO

    P8DIR |= 0b00110000;        // Конфигурирай изводи P8.4 и P8.5 като изходи
    P8OUT &= ~0b00110000;       // Инициализирай изводи P8.4 и P8.5 с лог. 0
    P9DIR |= 0b01000000;        // Конфигурирай извод P9.6 като изход
    P9OUT &= ~0b01000000;       // Инициализирай извод P9.6 с лог. 0

    ???                         // Конфигурирай извод P1.1 като вход, MSP430FR6989 Userguide (стр. 386)
    ???                         // Включи издърпващ резистор на извод P1.1, MSP430FR6989 Userguide (стр. 387)
    ???                         // Свържи издърпващия резистор към захранване Vdd, MSP430FR6989 Userguide (стр. 386)

    while(1)
    {
        P8OUT |= 0b00010000;
        P8OUT &= ~0b00100000;
        for(i = 0; i < 40000; i++)
        {

        }
        P8OUT &= ~0b00010000;
        P8OUT |= 0b00100000;
        for(i = 0; i < 40000; i++)
        {

        }

        if((P1IN & 0b00000010) == 0)
        {
            P9OUT ^= 0b01000000;
        }
    }
}
